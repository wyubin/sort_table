!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.sort_table=t()}}(function(){return function t(e,n,r){function o(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return o(n?n:t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){e.id="HTMLElement.js",HTMLElement.prototype.append_by_array=function(t){var e=this;return t.map(function(t){var n;1==t.nodeType?n=t:t.name?(n=document.createElement(t.name),t.attr&&Object.keys(t.attr).map(function(e){n.setAttribute(e,t.attr[e])}),t.child&&t.child.hasOwnProperty("length")?n.append_by_array(t.child):t.html&&(n.innerHTML=t.html)):n=document.createTextNode(t),e.appendChild(n)}),this}},{}],2:[function(t,e,n){e.id="Array.js",Array.prototype.unique=function(){for(var t=[],e=this.length,n=0;e>n;n++){for(var r=n+1;e>r;r++)this[n]===this[r]&&(r=++n);t.push(this[n])}return t},Array.prototype.intersect=function(){if(!arguments.length)return[];for(var t,e=this,n=[],r=0;r<arguments.length;){n=[],t=arguments[r];for(var o=e.length,i=t.length,a=0;o>a;a++)for(var s=0;i>s;s++)e[a]===t[s]&&n.push(e[a]);e=n,r++}return n.unique()},Array.prototype.diff=function(){for(var t,e=this,n=[],r=0;r<arguments.length;){n=[],t=arguments[r];for(var o=e.length,i=t.length,a=!0,s=0;o>s;s++){for(var u=0;i>u;u++)if(e[s]===t[u]){a=!1;break}a?n.push(e[s]):a=!0}e=n,r++}return n.unique()},Array.prototype.range=function(t){var e=t||this.length;return Array.apply(null,Array(e)).map(function(t,e){return e})},Array.prototype.ncombine=function(t,e){if(e=e||[],0==t)return[e];var n=this;return n.reduce(function(r,o,i){return r.concat(n.slice(i+1).ncombine(t-1,e.concat(o)))},[])},Array.prototype.transpose=function(){var t=this,e=t.map(function(t){return t.length}).sort();return e[0]<e[e.length-1]&&console.log("arrays dimesion are not equal when transpose"),t[0].slice(0,e[0]).map(function(e,n){return t.map(function(t){return t[n]})})}},{}],3:[function(t,e,n){e.id="sort_table",t("../../lib/stdlib.array.js"),t("../../lib/stdlib.HTMLElement.js");var r=t("util")._extend,o=function(t,e){this.doms={body:t},this.args=r({col_hide:{},col_revise:{},th_revise:null,th_sort:!0,tr_render:function(t,e){return t.reduce(function(t,e){return t.concat(document.createElement("td").append_by_array([e]))},[])},tr_click:!1},e),this.events={click:{},attached:[]},this.data={},this.init()};n.sort_table=o,o.prototype.init=function(){var t=this;this.init_view(),this.events.click={"tbody>tr>td":function(e){t.row_selected_handler(e)},"thead>tr>th>div.th-inner":function(e){t.th_sort_handler(e)}}},o.prototype.init_view=function(){var t=this;this.doms.body.append_by_array([{name:"div",attr:{"class":"mytable_thead"}},{name:"div",attr:{"class":"mytable_inner"},child:[{name:"table",child:[{name:"thead"},{name:"tbody"}]}]}]),["table","thead","tbody"].map(function(e,n){t.doms[e]=t.doms.body.querySelector(e)})},o.prototype.event_han=function(t){var e,n=this;if(t.type in n.events)for(e in n.events[t.type])t.target.matches(e)&&n.events[t.type][e](t)},o.prototype.set_events=function(){var t,e=this;for(t in this.events)-1==this.events.attached.indexOf(t)&&(this.doms.body.addEventListener(t,function(t){e.event_han(t)}),this.events.attached.push(t))},o.prototype.thead_ren=function(){var t=this,e=this.data.colnames.reduce(function(e,n,r){return t.args.col_hide[i]?e:e.concat([t.args.th_revise?t.args.th_revise(n,r,t.data.colnames):n])},[]);this.doms.thead.innerHTML="",this.doms.thead.append_by_array([{name:"tr",child:e.map(function(t,e){return{name:"th",child:[{name:"div",attr:{"class":"th-inner"},child:[t]}]}})}])},o.prototype.thead_align=function(){var t,e,n=Array.prototype.slice.call(this.doms.thead.querySelectorAll("div.th-inner"));n.map(function(n,r){t=n.getBoundingClientRect().width,e=n.parentNode.getBoundingClientRect().width,e>t&&(n.parentNode.style.width=e)}),n.map(function(t){t.style.width=t.parentNode.getBoundingClientRect().width})},o.prototype.append_rows=function(t){for(var e=this,n=t.transpose(),r=[],o=0;o<n.length;o++)if(!this.args.col_hide[o]){var i=this.args.col_revise[o];i?r.push(n[o].reduce(function(e,n,r){return e.concat([i(n,t[r])])},[])):r.push(n[o])}return this.doms.tbody.append_by_array(r.transpose().map(function(t,n){return{name:"tr",attr:{"data-irow":n},child:e.args.tr_render(t,n)}})),this.thead_align(),this},o.prototype.render=function(t){var e=this;return this.doms.body.classList.add("sort_table"),this.data=t,this.data.ind_col_show=t.colnames.range().reduce(function(t,n,r){return e.args.col_hide[r]?t:t.concat([r])},[]),this.set_events(),this.thead_ren(),this.doms.tbody.innerHTML="",this.append_rows(this.data.data),this},o.prototype.th_sort_handler=function(t){var e=t.target.classList,n=Array.prototype.slice.call(this.doms.thead.querySelectorAll("th div.th-inner")),r=n.indexOf(t.target),o=e.contains("up");return!o==e.contains("down")&&e.toggle("down"),e.toggle("up"),n.map(function(t,e){e!=r&&(t.classList.remove("up"),t.classList.remove("down"))}),this.tr_sort({col_ind:r,reverse:o}),this},o.prototype.tr_sort=function(t){var e,n=this,o=Array.prototype.slice.call(this.doms.tbody.querySelectorAll("tr")),i={icol:t.col_ind};o.sort(function(o,a){return e=[o,a].map(function(e){return t.fn?t.fn(r({},{dataset:e.dataset},i),n.data):n.data.data[e.dataset.irow][t.col_ind]}),e[0]>e[1]==t.reverse?1:-1}),o.map(function(t){n.doms.tbody.appendChild(t)})},o.prototype.row_selected_handler=function(t){t.target.parentNode.classList.toggle("selected");var e=Array.prototype.slice.call(this.doms.tbody.querySelectorAll("tr.selected"));return this.row_sel_call(e.map(function(t){return parseInt(t.dataset.irow)})),this},o.prototype.row_sel_call=function(t){return console.log(t),this}},{"../../lib/stdlib.HTMLElement.js":1,"../../lib/stdlib.array.js":2,util:7}],4:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],5:[function(t,e,n){function r(){l=!1,s.length?c=s.concat(c):p=-1,c.length&&o()}function o(){if(!l){var t=setTimeout(r);l=!0;for(var e=c.length;e;){for(s=c,c=[];++p<e;)s[p].run();p=-1,e=c.length}s=null,l=!1,clearTimeout(t)}}function i(t,e){this.fun=t,this.array=e}function a(){}var s,u=e.exports={},c=[],l=!1,p=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new i(t,e)),1!==c.length||l||setTimeout(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=a,u.addListener=a,u.once=a,u.off=a,u.removeListener=a,u.removeAllListeners=a,u.emit=a,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],6:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],7:[function(t,e,n){(function(e,r){function o(t,e){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(e)?r.showHidden=e:e&&n._extend(r,e),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),u(r,t,r.depth)}function i(t,e){var n=o.styles[e];return n?"["+o.colors[n][0]+"m"+t+"["+o.colors[n][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,e,r){if(t.customInspect&&e&&S(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var o=e.inspect(r,t);return b(o)||(o=u(t,o,r)),o}var i=c(t,e);if(i)return i;var a=Object.keys(e),y=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),A(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(e);if(0===a.length){if(S(e)){var g=e.name?": "+e.name:"";return t.stylize("[Function"+g+"]","special")}if(j(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(O(e))return t.stylize(Date.prototype.toString.call(e),"date");if(A(e))return l(e)}var m="",v=!1,_=["{","}"];if(h(e)&&(v=!0,_=["[","]"]),S(e)){var w=e.name?": "+e.name:"";m=" [Function"+w+"]"}if(j(e)&&(m=" "+RegExp.prototype.toString.call(e)),O(e)&&(m=" "+Date.prototype.toUTCString.call(e)),A(e)&&(m=" "+l(e)),0===a.length&&(!v||0==e.length))return _[0]+m+_[1];if(0>r)return j(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var x;return x=v?p(t,e,r,y,a):a.map(function(n){return f(t,e,r,y,n,v)}),t.seen.pop(),d(x,m,_)}function c(t,e){if(w(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return v(e)?t.stylize(""+e,"number"):y(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,o){for(var i=[],a=0,s=e.length;s>a;++a)D(e,String(a))?i.push(f(t,e,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(f(t,e,n,r,o,!0))}),i}function f(t,e,n,r,o,i){var a,s,c;if(c=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},c.get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),D(r,o)||(a="["+o+"]"),s||(t.seen.indexOf(c.value)<0?(s=g(n)?u(t,c.value,null):u(t,c.value,n-1),s.indexOf("\n")>-1&&(s=i?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),w(a)){if(i&&o.match(/^\d+$/))return s;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function d(t,e,n){var r=0,o=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function h(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function g(t){return null===t}function m(t){return null==t}function v(t){return"number"==typeof t}function b(t){return"string"==typeof t}function _(t){return"symbol"==typeof t}function w(t){return void 0===t}function j(t){return x(t)&&"[object RegExp]"===z(t)}function x(t){return"object"==typeof t&&null!==t}function O(t){return x(t)&&"[object Date]"===z(t)}function A(t){return x(t)&&("[object Error]"===z(t)||t instanceof Error)}function S(t){return"function"==typeof t}function E(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function z(t){return Object.prototype.toString.call(t)}function L(t){return 10>t?"0"+t.toString(10):t.toString(10)}function N(){var t=new Date,e=[L(t.getHours()),L(t.getMinutes()),L(t.getSeconds())].join(":");return[t.getDate(),M[t.getMonth()],e].join(" ")}function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var T=/%[sdj%]/g;n.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(o(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,i=r.length,a=String(t).replace(T,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),s=r[n];i>n;s=r[++n])a+=g(s)||!x(s)?" "+s:" "+o(s);return a},n.deprecate=function(t,o){function i(){if(!a){if(e.throwDeprecation)throw new Error(o);e.traceDeprecation?console.trace(o):console.error(o),a=!0}return t.apply(this,arguments)}if(w(r.process))return function(){return n.deprecate(t,o).apply(this,arguments)};if(e.noDeprecation===!0)return t;var a=!1;return i};var q,H={};n.debuglog=function(t){if(w(q)&&(q=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!H[t])if(new RegExp("\\b"+t+"\\b","i").test(q)){var r=e.pid;H[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,r,e)}}else H[t]=function(){};return H[t]},n.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=h,n.isBoolean=y,n.isNull=g,n.isNullOrUndefined=m,n.isNumber=v,n.isString=b,n.isSymbol=_,n.isUndefined=w,n.isRegExp=j,n.isObject=x,n.isDate=O,n.isError=A,n.isFunction=S,n.isPrimitive=E,n.isBuffer=t("./support/isBuffer");var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",N(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!x(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":6,_process:5,inherits:4}]},{},[3])(3)});
